@namespace WorkingTimer.Client.Components

<div class="d-flex justify-content-between m-3 p-3">
    <div>
    </div>
    <div class="card-auth">
        <EditForm Model="@_model" OnValidSubmit="RegisterUserAsync">
            <DataAnnotationsValidator />
            <MudCard>
                <MudCardHeader>
                    <CardHeaderContent>
                        <MudText Typo="Typo.h4" class="text-center">Bienvenue dans l'application "Working Timer!"</MudText>
                    </CardHeaderContent>
                </MudCardHeader>
                <MudCardContent>

                    <MudTextField Label="Email" Class="mt-3"
                                  @bind-Value="_model.Email" For="@(() => _model.Email)" />
                    <MudTextField Label="Password" HelperText="Min 6 caractéres (MAJ-min-AlphaNumeric)" Class="mt-3"
                                  @bind-Value="_model.Password" For="@(() => _model.Password)" InputType="InputType.Password" />
                    <MudTextField Label="ConfirmPassword" HelperText="Min 6 caractéres (MAJ-min-AlphaNumeric)" Class="mt-3"
                                  @bind-Value="_model.ConfirmPassword" For="@(() => _model.ConfirmPassword)" InputType="InputType.Password" />
                </MudCardContent>
                <MudCardActions>
                    <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Disabled="_isBusy">
                        @if (_isBusy)
                        {
                            <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
                            <MudText Class="ms-2">Inscription en cours</MudText>
                        }
                        else
                        {
                            <MudText>Inscription</MudText>
                        }

                    </MudButton>
                </MudCardActions>
            </MudCard>
        </EditForm>
        <br />
        @if (!string.IsNullOrWhiteSpace(@_errorMessage))
        {
            <MudAlert Severity="Severity.Error" Variant="Variant.Filled">@_errorMessage</MudAlert>
        }
        @if (!string.IsNullOrWhiteSpace(@_activateCompte))
        {
            <MudAlert Severity="Severity.Info" ContentAlignment="HorizontalAlignment.Center">
                <a href="@_activateCompte">Activer le compte</a>
            </MudAlert>
        }
    </div>

    <div>
    </div>
</div>
